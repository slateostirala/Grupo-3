<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>File Sharing &#8212; ownCloud 10.0.10 Server Administration Manual 10.0.10 documentation</title>
    <link rel="stylesheet" href="../../_static/" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/main.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/styles.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '10.0.10',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Configuring Federation Sharing" href="federated_cloud_sharing_configuration.html" />
    <link rel="prev" title="File Sharing and Management" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1d2d44">

  </head>
  <body>


<div class="wrap container not-front">
  <div class="content row">
  <main class="main">
    <div class="row page-content-header">
      <div class="col-md-5 col-md-offset-7">
      
        <form class="headersearch" style="margin-bottom:-3px;" action="../../search.html" method="get">
        <input type="text" value="" name="q" id="q" class="form-control" /> 
        <button  class="btn btn-default" type="submit" id="searchsubmit">Search</button>
        </form>
      
      </div>
    </div>
    
			<div class="row">
				<div class="col-md-3">
					<div class="sidebar">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>
										
<li><a href="../../contents.html">Table of Contents</a></li>
									</ul>
                  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whats_new_admin.html">What’s New in ownCloud 10.0.10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../database/index.html">Database Configuration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">File Sharing and Management</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">File Sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="federated_cloud_sharing_configuration.html">Configuring Federation Sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="big_file_upload_configuration.html">Uploading big files &gt; 512MB</a></li>
<li class="toctree-l3"><a class="reference internal" href="default_files_configuration.html">Providing Default Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="external_storage_configuration_gui.html">Configuring External Storage (GUI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="external_storage_configuration.html">Configuring External Storage (Configuration File)</a></li>
<li class="toctree-l3"><a class="reference internal" href="external_storage/auth_mechanisms.html">External Storage Authentication mechanisms</a></li>
<li class="toctree-l3"><a class="reference internal" href="encryption_configuration_quick_guide.html">Encryption Configuration Quick Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="encryption_configuration.html">Encryption Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="files_locking_transactional.html">Transactional File Locking</a></li>
<li class="toctree-l3"><a class="reference internal" href="previews_configuration.html">Previews Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_versioning.html">Controlling File Versions and Aging</a></li>
<li class="toctree-l3"><a class="reference internal" href="trashbin_options.html">Managing the Trashbin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ldap/ldap_proxy_cache_server_setup.html">How To Install and Configure an LDAP Proxy-Cache Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mimetypes/index.html">Mimetypes Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server/index.html">Server Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/index.html">User Management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../issues/index.html">Issues and Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../enterprise/index.html">Enterprise Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appliance/index.html">The ownCloud X Appliance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
</ul>

								</ul>
							</div>
					</div>
				</div>
        

				<div class="col-md-9">
					<div class="page-content">
            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="index.html" title="Previous Chapter: File Sharing and Management"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; File Sharing ...</span>
    </a>
  </li>
  <li class="next">
    <a href="federated_cloud_sharing_configuration.html" title="Next Chapter: Configuring Federation Sharing"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Configuring F... &raquo;</span>
    </a>
  </li>
</ul>
						
  <div class="section" id="file-sharing">
<h1>File Sharing<a class="headerlink" href="#file-sharing" title="Permalink to this headline">¶</a></h1>
<p>The sharing policy is configured on the Admin page in the <em>“Sharing”</em> section.</p>
<div class="figure">
<img alt="ownCloud Sharing settings" src="../../_images/sharing-files-settings.png" />
</div>
<p>From this section, ownCloud users can:</p>
<ul class="simple">
<li>Share files with their ownCloud groups and other users on the same ownCloud server</li>
<li>Share files with ownCloud users on <a class="reference internal" href="federated_cloud_sharing_configuration.html"><span class="doc">other ownCloud servers</span></a></li>
<li>Create public shares for people who are not ownCloud users.</li>
</ul>
<p>You have control of a number of user permissions on file shares:</p>
<ul class="simple">
<li>Allow users to share files</li>
<li>Allow users to create public shares</li>
<li>Require a password on public shares</li>
<li>Allow public uploads to public shares</li>
<li>Require an expiration date on public share links</li>
<li>Allow resharing</li>
<li>Restrict sharing to group members only</li>
<li>Allow email notifications of new public shares</li>
<li>Exclude groups from creating shares</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">ownCloud Enterprise includes a Share Link Password Policy app; see <a class="reference internal" href="../server/security/password_policy.html#password-policy-label"><span class="std std-ref">the Password Policy documentation</span></a>.</p>
</div>
<div class="section" id="settings-explained">
<h2>Settings Explained<a class="headerlink" href="#settings-explained" title="Permalink to this headline">¶</a></h2>
<div class="section" id="allow-apps-to-use-the-share-api">
<h3>Allow apps to use the Share API<a class="headerlink" href="#allow-apps-to-use-the-share-api" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable users to share files.
If this is not checked, no users can create file shares.</p>
</div>
<div class="section" id="allow-users-to-share-via-link">
<h3>Allow users to share via link<a class="headerlink" href="#allow-users-to-share-via-link" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable creating public shares for people who are not ownCloud users via hyperlink.</p>
</div>
<div class="section" id="enforce-password-protection">
<h3>Enforce password protection<a class="headerlink" href="#enforce-password-protection" title="Permalink to this headline">¶</a></h3>
<p>Check this option to force users to set a password on all public share links.
This does not apply to local user and group shares.</p>
</div>
<div class="section" id="allow-public-uploads">
<h3>Allow public uploads<a class="headerlink" href="#allow-public-uploads" title="Permalink to this headline">¶</a></h3>
<p>Check this option to allow anyone to upload files to public shares.</p>
</div>
<div class="section" id="allow-users-to-send-mail-notification-for-shared-files">
<h3>Allow users to send mail notification for shared files<a class="headerlink" href="#allow-users-to-send-mail-notification-for-shared-files" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable sending notifications from ownCloud.
When clicked, the administrator can choose the language for public mail notifications for shared files.</p>
<div class="figure">
<img alt="Choose the language for public mail notifications for shared files in ownCloud." src="configuration/files/images/sharing/choose-public-mail-notification-language.png" />
</div>
<p>What this means is that email notifications will be sent in the language of the user that shared an item.
By default the language is the share owner’s language.
However, it can be changed to any of the currently available languages.
It is also possible to change this setting on the command-line by using <a class="reference internal" href="../server/occ_command.html#apps-commands-label"><span class="std std-ref">the occ config:app:set command</span></a>, as in this example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">config</span><span class="p">:</span><span class="n">app</span><span class="p">:</span><span class="nb">set</span> <span class="n">core</span> <span class="n">shareapi_public_notification_lang</span> <span class="o">--</span><span class="n">value</span> <span class="s1">&#39;&lt;language code&gt;&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the above example “&lt;language code&gt;” is <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">an ISO 3166-1 alpha-2 two-letter country code</a>, such as <em>ru</em>, <em>gb</em>, <em>us</em>, and <em>au</em>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To use this functionality, your ownCloud server must be configured to send mail.</p>
</div>
</div>
<div class="section" id="allow-users-to-share-file-via-social-media">
<h3>Allow users to share file via social media<a class="headerlink" href="#allow-users-to-share-file-via-social-media" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable displaying of a set of links that allow for quickly sharing files and share links via <em>Twitter</em>, <em>Facebook</em>, <em>Google+</em>, <em>Diaspora</em>, and email.</p>
<div class="figure">
<img alt="ownCloud social media sharing links" src="../../_images/sharing-files-via-social-media.png" />
</div>
</div>
<div class="section" id="set-default-expiration-date">
<h3>Set default expiration date<a class="headerlink" href="#set-default-expiration-date" title="Permalink to this headline">¶</a></h3>
<p>Check this option to set a default expiration date on public shares.</p>
</div>
<div class="section" id="allow-resharing">
<h3>Allow resharing<a class="headerlink" href="#allow-resharing" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable users to re-share files shared with them.</p>
</div>
<div class="section" id="restrict-users-to-only-share-with-users-in-their-groups">
<h3>Restrict users to only share with users in their groups<a class="headerlink" href="#restrict-users-to-only-share-with-users-in-their-groups" title="Permalink to this headline">¶</a></h3>
<p>Check this option to confine sharing within group memberships.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This setting does not apply to the Federated Cloud sharing feature.
If <a class="reference internal" href="federated_cloud_sharing_configuration.html"><span class="doc">Federated Cloud Sharing</span></a>
is enabled, users can still share items with any users on any instances
(including the one they are on) via a remote share.</p>
</div>
</div>
<div class="section" id="id1">
<h3>Allow users to send mail notification for shared files<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable users to send an email notification to every ownCloud user that the file is shared with.</p>
</div>
<div class="section" id="exclude-groups-from-sharing">
<h3>Exclude groups from sharing<a class="headerlink" href="#exclude-groups-from-sharing" title="Permalink to this headline">¶</a></h3>
<p>Check this option to prevent members of specific groups from creating any file shares in those groups.
When you check this, you’ll get a dropdown list of all your groups to choose from.
Members of excluded groups can still receive shares, but not create any.</p>
</div>
<div class="section" id="allow-username-autocompletion-in-share-dialog">
<h3>Allow username autocompletion in share dialog<a class="headerlink" href="#allow-username-autocompletion-in-share-dialog" title="Permalink to this headline">¶</a></h3>
<p>Check this option to enable auto-completion of ownCloud usernames.</p>
</div>
<div class="section" id="restrict-enumeration-to-group-members">
<h3>Restrict enumeration to group members<a class="headerlink" href="#restrict-enumeration-to-group-members" title="Permalink to this headline">¶</a></h3>
<p>Check this option to restrict auto-completion of ownCloud usernames to only those users who are members of the same group(s) that the user is in.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">ownCloud does not preserve the mtime (modification time) of
directories, though it does update the mtimes on files. See
<a class="reference external" href="https://github.com/owncloud/core/issues/7009">Wrong folder date when syncing</a> for discussion of this.</p>
</div>
</div>
</div>
<div class="section" id="blacklist-groups-from-receiving-shares">
<h2>Blacklist Groups From Receiving Shares<a class="headerlink" href="#blacklist-groups-from-receiving-shares" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it’s necessary or desirable to block groups from receiving shares.
For example, if a group has a significant number of users (&gt; 5,000) or if it’s a system group, then it can be advisable to block it from receiving shares.
In these cases, ownCloud administrators can blacklist one or more groups, so that they do not receive shares.</p>
<p>To blacklist one or more groups, via the Web UI, under “<strong>Admin -&gt; Settings -&gt; Sharing</strong>”, add one or more groups to the “<em>Files Sharing</em>” list.
As you type the group’s name, if it exists, it will appear in the drop down list, where you can select it.</p>
<div class="figure">
<img alt="../../_images/blacklisting-groups.png" src="../../_images/blacklisting-groups.png" />
</div>
</div>
<div class="section" id="transferring-files-to-another-user">
<span id="transfer-userfiles-label"></span><h2>Transferring Files to Another User<a class="headerlink" href="#transferring-files-to-another-user" title="Permalink to this headline">¶</a></h2>
<p>You may transfer files from one user to another with <code class="docutils literal"><span class="pre">occ</span></code>.
The command transfers either all or a limited set of files from one user to another.
It also transfers the shares and metadata info associated with those files (<em>shares</em>, <em>tags</em>, and <em>comments</em>, etc).
This is useful when you have to transfer a user’s files to another user before you delete them.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Trashbin contents are not transferred.</p>
</div>
<p>Here is an example of how to transfer all files from one user to another.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">occ</span> <span class="n">files</span><span class="p">:</span><span class="n">transfer</span><span class="o">-</span><span class="n">ownership</span> <span class="o">&lt;</span><span class="n">source</span><span class="o">-</span><span class="n">user</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">destination</span><span class="o">-</span><span class="n">user</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Here is an example of how to transfer <em>a limited group</em> a single folder from one user to another.
In it, <code class="docutils literal"><span class="pre">folder/to/move</span></code>, and any file and folder inside it will be moved to <code class="docutils literal"><span class="pre">&lt;destination-user&gt;</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files</span><span class="p">:</span><span class="n">transfer</span><span class="o">-</span><span class="n">ownership</span> <span class="o">--</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;folder/to/move&quot;</span> <span class="o">&lt;</span><span class="n">source</span><span class="o">-</span><span class="n">user</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">destination</span><span class="o">-</span><span class="n">user</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>When using this command keep two things in mind:</p>
<ol class="arabic simple">
<li>The directory provided to the <code class="docutils literal"><span class="pre">--path</span></code> switch <strong>must</strong> exist inside <code class="docutils literal"><span class="pre">data/&lt;source-user&gt;/files</span></code>.</li>
<li>The directory (and its contents) won’t be moved as is between the users. It’ll be moved inside the destination user’s <code class="docutils literal"><span class="pre">files</span></code> directory, and placed in a directory which follows the format: <code class="docutils literal"><span class="pre">transferred</span> <span class="pre">from</span> <span class="pre">&lt;source-user&gt;</span> <span class="pre">on</span> <span class="pre">&lt;timestamp&gt;</span></code>. Using the example above, it will be stored under: <code class="docutils literal"><span class="pre">data/&lt;destination-user&gt;/files/transferred</span> <span class="pre">from</span> <span class="pre">&lt;source-user&gt;</span> <span class="pre">on</span> <span class="pre">20170426_124510/</span></code></li>
</ol>
<p>(See <a class="reference internal" href="../server/occ_command.html"><span class="doc">Using occ core commands</span></a> for a complete <code class="docutils literal"><span class="pre">occ</span></code> reference.)</p>
</div>
<div class="section" id="creating-persistent-file-shares">
<h2>Creating Persistent File Shares<a class="headerlink" href="#creating-persistent-file-shares" title="Permalink to this headline">¶</a></h2>
<p>When a user is deleted, their files are also deleted. As you can imagine, this
is a problem if they created file shares that need to be preserved, because
these disappear as well. In ownCloud files are tied to their owners, so
whatever happens to the file owner also happens to the files.</p>
<p>One solution is to create persistent shares for your users. You can retain
ownership of them, or you could create a special user for the purpose of
establishing permanent file shares. Simply create a shared folder in the usual
way, and share it with the users or groups who need to use it. Set the
appropriate permissions on it, and then no matter which users come and go, the
file shares will remain. Because all files added to the share, or edited in it,
automatically become owned by the owner of the share regardless of who adds or
edits them.</p>
</div>
<div class="section" id="create-shares-programmatically">
<h2>Create Shares Programmatically<a class="headerlink" href="#create-shares-programmatically" title="Permalink to this headline">¶</a></h2>
<p>If you need to create new shares using command-line scripts, there are two available option.</p>
<ul class="simple">
<li><a class="reference internal" href="#occ-files-external-create">occ files_external:create</a></li>
<li><a class="reference internal" href="#occ-files-external-import">occ files_external:import</a></li>
</ul>
<div class="section" id="occ-files-external-create">
<h3>occ files_external:create<a class="headerlink" href="#occ-files-external-create" title="Permalink to this headline">¶</a></h3>
<p>This command provides for the creation of both personal (for a specific user) and general shares.
The command’s configuration options can be provided either as individual arguments or collectively, as a JSON object.
For more information about the command, refer to the <span class="xref std std-ref">the occ documentation</span>.</p>
<div class="section" id="personal-share">
<h4>Personal Share<a class="headerlink" href="#personal-share" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files_external</span><span class="p">:</span><span class="n">create</span> <span class="o">/</span><span class="n">my_share_name</span> <span class="n">windows_network_drive</span> \
     <span class="n">password</span><span class="p">::</span><span class="n">logincredentials</span> \
     <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">share</span><span class="o">=</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="s1">&#39;$user&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;owncloud.local&#39;</span><span class="p">}</span> \
     <span class="o">--</span><span class="n">user</span> <span class="n">someuser</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files_external</span><span class="p">:</span><span class="n">create</span> <span class="o">/</span><span class="n">my_share_name</span> <span class="n">windows_network_drive</span> \
    <span class="n">password</span><span class="p">::</span><span class="n">logincredentials</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">share</span><span class="o">=</span><span class="s1">&#39;home&#39;</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">root</span><span class="o">=</span><span class="s1">&#39;$user&#39;</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;somedomain.local&#39;</span> \
    <span class="o">--</span><span class="n">user</span> <span class="n">someuser</span>
</pre></div>
</div>
</div>
<div class="section" id="general-share">
<h4>General Share<a class="headerlink" href="#general-share" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files_external</span><span class="p">:</span><span class="n">create</span> <span class="o">/</span><span class="n">my_share_name</span> <span class="n">windows_network_drive</span> \
    <span class="n">password</span><span class="p">::</span><span class="n">logincredentials</span> \
    <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">share</span><span class="o">=</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="s1">&#39;$user&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;owncloud.local&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files_external</span><span class="p">:</span><span class="n">create</span> <span class="o">/</span><span class="n">my_share_name</span> <span class="n">windows_network_drive</span> \
    <span class="n">password</span><span class="p">::</span><span class="n">logincredentials</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">share</span><span class="o">=</span><span class="s1">&#39;home&#39;</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">root</span><span class="o">=</span><span class="s1">&#39;$user&#39;</span> \
    <span class="o">--</span><span class="n">config</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;somedomain.local&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="occ-files-external-import">
<h3>occ files_external:import<a class="headerlink" href="#occ-files-external-import" title="Permalink to this headline">¶</a></h3>
<p>You can create general and personal shares passing the configuration details via JSON files, using the <code class="docutils literal"><span class="pre">occ</span> <span class="pre">files_external:import</span></code> command.</p>
<p><strong>General Share</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files_external</span><span class="p">:</span><span class="kn">import</span> <span class="o">/</span><span class="n">import</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>Personal Share</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">www</span><span class="o">-</span><span class="n">data</span> <span class="n">php</span> <span class="n">occ</span> <span class="n">files_external</span><span class="p">:</span><span class="kn">import</span> <span class="o">/</span><span class="n">import</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">user</span> <span class="n">someuser</span>
</pre></div>
</div>
<p>In the two examples above, here is a sample JSON file, showing all of the available configuration options that the command supports.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;mount_point&quot;</span><span class="p">:</span> <span class="s2">&quot;\/my_share_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;storage&quot;</span><span class="p">:</span> <span class="s2">&quot;OCA\\windows_network_drive\\lib\\WND&quot;</span><span class="p">,</span>
    <span class="nt">&quot;authentication_type&quot;</span><span class="p">:</span> <span class="s2">&quot;password::logincredentials&quot;</span><span class="p">,</span>
    <span class="nt">&quot;configuration&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;share&quot;</span><span class="p">:</span> <span class="s2">&quot;home&quot;</span><span class="p">,</span>
        <span class="nt">&quot;root&quot;</span><span class="p">:</span> <span class="s2">&quot;$user&quot;</span><span class="p">,</span>
        <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;owncloud.local&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;options&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;enable_sharing&quot;</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="nt">&quot;applicable_users&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="nt">&quot;applicable_groups&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="index.html" title="Previous Chapter: File Sharing and Management"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; File Sharing ...</span>
    </a>
  </li>
  <li class="next">
    <a href="federated_cloud_sharing_configuration.html" title="Next Chapter: Configuring Federation Sharing"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Configuring F... &raquo;</span>
    </a>
  </li>
</ul>
					</div>
				</div>
			</div>
  </main>  
  </div>
</div>
  </body>
</html>